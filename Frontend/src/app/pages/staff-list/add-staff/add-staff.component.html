<div class="container-fluid">
  <div class="row">
    <div class="header">
      <div>
        <i class="fa fa-user bar-icon" aria-hidden="true"></i>
        <span class="header-text">Add Staff</span>
      </div>
      <button class="header-button" routerLink="/staff-list">
        <i class="fa fa-bars bar_icon" aria-hidden="true"></i>
        Staff List
      </button>
    </div>
  </div>
  <div class="row">
    <div class="system-setttings">
      <div class="section-title">
        <span>Personal Information</span>
      </div>
      <div class="membership-list">
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>First Name</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.first_name">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Middle Name</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.middle_name">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Last Name</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.last_name">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Gender</span>
            </div>
          </div>
          <div class="form-input">
            <select class="form-input-field" aria-label="Default select example" [(ngModel)]="newStaff.gender">
              <option disabled selected>Select Gender</option>
              <option value="M">Male</option>
              <option value="F">Female</option>
            </select>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Date of Birth</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.date_of_birth">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Assign Role</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <select class="form-input-field" aria-label="Default select example" [(ngModel)]="newRole.name">
              <option disabled selected>Select Role</option>
              <option *ngFor="let role of (roles$ | async)" [value]="role.name">{{ role.name }}</option>
            </select>
          </div>
          <div class="form-button col-3">
            <button class="btn button" data-bs-toggle="modal" data-bs-target="#addRoleModal">Add/Remove Role</button>
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Specialization</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <select class="form-input-field" aria-label="Default select example" [(ngModel)]="newSpecialization.name">
              <option selected>Select Specialization</option>
              <option *ngFor="let specialization of (specializations$ | async)" [value]="specialization.name">{{ specialization.name }}</option>
            </select>
          </div>
          <div class="form-button col-3">
            <button class="btn button" data-bs-toggle="modal" data-bs-target="#addSpecializationModal">Add/Remove
              Specialization</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="contact-information">
      <div class="section-title">
        <span>Contact Information</span>
      </div>
      <div class="membership-list">
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Home Town Address</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.home_town_address">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>City</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.city">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Mobile Number</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.mobile_number">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Phone</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.phone">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Email</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.email">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="login-information">
      <div class="section-title">
        <span>Login Information</span>
      </div>
      <div class="membership-list">
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Username</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="text" name="" id="" [(ngModel)]="newStaff.username">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Password</span><span style="color: red; margin-left: 4px;">*</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="password" name="" id="" [(ngModel)]="newStaff.password">
          </div>
        </div>
        <div class="row form-row">
          <div class="col-3 form-title">
            <div class="">
              <span>Display Image</span>
            </div>
          </div>
          <div class="form-input">
            <input class="form-input-field" type="file" id="formFile" [(ngModel)]="newStaff.display_image">
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="measurement-units">
      <div class="footer">
        <button class="footer-button" (click)="onSave()">Save Staff</button>
        <button class="footer-button" (click)="onCancel()">Cancel</button>
      </div>
    </div>
  </div>
</div>


<!-- Add Specialization Modal -->
<div class="modal fade" id="addSpecializationModal" tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add/Remove Specialization</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-subheader">
        <input type="text" class="modal-input-field" [(ngModel)]="newSpecialization.name" placeholder="Enter Specialization">
        <button type="button" class="modal-btn" (click)="addSpecialization()">Add Specialization</button>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Category</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody *ngIf="specializations$ | async as specializations">
            <tr *ngFor="let specialization of specializations">
              <td>{{ specialization.name }}</td>
              <td>
                <button class="btn btn-danger" (click)="deleteSpecialization(specialization.id)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<!-- Add Role Modal -->
<div class="modal fade" id="addRoleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add/Remove Role</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-subheader">
        <input type="text" class="modal-input-field" [(ngModel)]="newRole.name" placeholder="Enter Role">
        <button type="button" class="modal-btn" (click)="addRole()">Add Role</button>
      </div>
      <div class="modal-body">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Category</th>
              <th scope="col">Action</th>
            </tr>
          </thead>
          <tbody *ngIf="roles$ | async as roles">
            <tr *ngFor="let role of roles">
              <td>{{ role.name }}</td>
              <td>
                <button class="btn btn-danger" (click)="deleteRole(role.id)">Delete</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>